import './index.scss';
import HomeServiceCard from '../../../../components/UserComponents/Home/ServiceCardHome/index.jsx';
import image from '/src/assets/HomeVideo.gif';
import { useTranslation } from 'react-i18next';
import { useGetAllCategoryQuery } from "../../../../services/userApi.jsx";
import icons from "/src/assets/icon1.png"
import {useMediaQuery} from "react-responsive";
function HomeServices() {
    const { t, i18n } = useTranslation();
    const { data: getAllService } = useGetAllCategoryQuery();
    const cardss = getAllService?.data?.slice(0, 6);
    const isMobile = useMediaQuery({maxWidth:768})
    // Mevcut dili al ve buna göre alan seç
    const getLocalizedText = (card, field) => {
        switch (i18n.language) {
            case 'en':
                return field === 'name' ? card.nameEng : card.descriptionEng;
            case 'ru':
                return field === 'name' ? card.nameRu : card.descriptionRu;
            default: // 'tr' veya varsayılan
                return field === 'name' ? card.name : card.description;
        }
    };

    return (
        <div id={'home-services'}>
            <div className={'container'}>
                <div className={'head'}>
                    <div className={'title'}>
                        <h2>Sizə Təklif Etdiyimiz Tibbi Xidmətlər</h2>
                        <p>Sizin ehtiyaclarınıza uyğun tibbi xidmət sahələrini kəşf edin.</p>
                    </div>
                    {isMobile ? ("") : (<div>
                        <button>
                            Hamısına bax <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                            <path d="M23.0291 8.53068L20.0291 11.5307C19.8884 11.6714 19.6975 11.7505 19.4985 11.7505C19.2995 11.7505 19.1086 11.6714 18.9679 11.5307C18.8271 11.3899 18.7481 11.1991 18.7481 11.0001C18.7481 10.801 18.8271 10.6102 18.9679 10.4694L20.6882 8.75005H19.4985C15.8732 8.75005 15.1307 10.5313 14.1904 12.7888C13.2219 15.1138 12.1232 17.7501 7.49849 17.7501H7.40474C7.22219 18.457 6.78807 19.0732 6.18373 19.483C5.5794 19.8928 4.84635 20.0681 4.12199 19.9761C3.39763 19.8841 2.73169 19.5311 2.249 18.9832C1.7663 18.4353 1.5 17.7302 1.5 17.0001C1.5 16.2699 1.7663 15.5648 2.249 15.0169C2.73169 14.469 3.39763 14.116 4.12199 14.024C4.84635 13.932 5.5794 14.1073 6.18373 14.5171C6.78807 14.9269 7.22219 15.5431 7.40474 16.2501H7.49849C11.1238 16.2501 11.8663 14.4688 12.8066 12.2113C13.7797 9.8863 14.8738 7.25005 19.4985 7.25005H20.6882L18.9679 5.53068C18.8271 5.38995 18.7481 5.19907 18.7481 5.00005C18.7481 4.80103 18.8271 4.61016 18.9679 4.46943C19.1086 4.3287 19.2995 4.24963 19.4985 4.24963C19.6975 4.24963 19.8884 4.3287 20.0291 4.46943L23.0291 7.46943C23.0988 7.53908 23.1542 7.6218 23.1919 7.71285C23.2297 7.80389 23.2491 7.90149 23.2491 8.00005C23.2491 8.09861 23.2297 8.19621 23.1919 8.28726C23.1542 8.3783 23.0988 8.46102 23.0291 8.53068Z" fill="black"/>
                            <path d="M23.0291 8.53068L20.0291 11.5307C19.8884 11.6714 19.6975 11.7505 19.4985 11.7505C19.2995 11.7505 19.1086 11.6714 18.9679 11.5307C18.8271 11.3899 18.7481 11.1991 18.7481 11.0001C18.7481 10.801 18.8271 10.6102 18.9679 10.4694L20.6882 8.75005H19.4985C15.8732 8.75005 15.1307 10.5313 14.1904 12.7888C13.2219 15.1138 12.1232 17.7501 7.49849 17.7501H7.40474C7.22219 18.457 6.78807 19.0732 6.18373 19.483C5.5794 19.8928 4.84635 20.0681 4.12199 19.9761C3.39763 19.8841 2.73169 19.5311 2.249 18.9832C1.7663 18.4353 1.5 17.7302 1.5 17.0001C1.5 16.2699 1.7663 15.5648 2.249 15.0169C2.73169 14.469 3.39763 14.116 4.12199 14.024C4.84635 13.932 5.5794 14.1073 6.18373 14.5171C6.78807 14.9269 7.22219 15.5431 7.40474 16.2501H7.49849C11.1238 16.2501 11.8663 14.4688 12.8066 12.2113C13.7797 9.8863 14.8738 7.25005 19.4985 7.25005H20.6882L18.9679 5.53068C18.8271 5.38995 18.7481 5.19907 18.7481 5.00005C18.7481 4.80103 18.8271 4.61016 18.9679 4.46943C19.1086 4.3287 19.2995 4.24963 19.4985 4.24963C19.6975 4.24963 19.8884 4.3287 20.0291 4.46943L23.0291 7.46943C23.0988 7.53908 23.1542 7.6218 23.1919 7.71285C23.2297 7.80389 23.2491 7.90149 23.2491 8.00005C23.2491 8.09861 23.2297 8.19621 23.1919 8.28726C23.1542 8.3783 23.0988 8.46102 23.0291 8.53068Z" fill="url(#paint0_linear_7_1482)"/>
                            <defs>
                                <linearGradient id="paint0_linear_7_1482" x1="1.5" y1="12.1248" x2="23.2491" y2="12.1248" gradientUnits="userSpaceOnUse">
                                    <stop offset="0.538462" stop-color="#0063A6"/>
                                    <stop offset="0.870192" stop-color="#0B93EF"/>
                                </linearGradient>
                            </defs>
                        </svg>
                        </button>
                    </div>)}
                </div>
                <div className={'row'}>
                    <div className={'col-6'}>
                        <div className={"videos"}>
                            <img src={image} alt={t('homeServices.videoAlt')} />
                        </div>
                    </div>
                    {cardss?.map((card) => (
                        <HomeServiceCard
                            id={card?.id}
                            name={"Xərçəng müalicəsi"}
                            desc={"Həyat keyfiyyətinizi yüksəltmək üçün ən yeni xərçəng müalicə üsulları."}
                            icon={icons}
                        />
                    ))}

                </div>
                {isMobile ? (<div>
                    <button className={'hamisiniBax'}>
                        Hamısına bax  <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                        <path d="M14.6382 21.1114L11.8882 18.3614C11.7592 18.2324 11.6867 18.0575 11.6867 17.875C11.6867 17.6926 11.7592 17.5176 11.8882 17.3886C12.0172 17.2596 12.1922 17.1871 12.3746 17.1871C12.5571 17.1871 12.732 17.2596 12.861 17.3886L14.4371 18.9656L14.4371 17.875C14.4371 14.5518 12.8043 13.8712 10.7349 13.0092C8.60368 12.1215 6.18712 11.1143 6.18712 6.87502L6.18712 6.78908C5.53904 6.62175 4.97424 6.2238 4.59858 5.66982C4.22292 5.11585 4.0622 4.44389 4.14654 3.77989C4.23088 3.1159 4.55449 2.50545 5.05671 2.06298C5.55893 1.62052 6.20529 1.3764 6.87462 1.3764C7.54395 1.3764 8.19031 1.62052 8.69253 2.06298C9.19475 2.50545 9.51836 3.1159 9.6027 3.77989C9.68704 4.44389 9.52632 5.11585 9.15066 5.66983C8.775 6.2238 8.2102 6.62175 7.56212 6.78908L7.56212 6.87502C7.56212 10.1982 9.19493 10.8788 11.2643 11.7408C13.3956 12.6328 15.8121 13.6357 15.8121 17.875L15.8121 18.9656L17.3882 17.3886C17.5172 17.2596 17.6922 17.1871 17.8746 17.1871C18.0571 17.1871 18.232 17.2596 18.361 17.3886C18.49 17.5176 18.5625 17.6926 18.5625 17.875C18.5625 18.0575 18.49 18.2324 18.361 18.3614L15.611 21.1114C15.5472 21.1753 15.4714 21.2261 15.3879 21.2607C15.3044 21.2953 15.215 21.3131 15.1246 21.3131C15.0343 21.3131 14.9448 21.2953 14.8613 21.2607C14.7779 21.2261 14.7021 21.1753 14.6382 21.1114Z" fill="#424242"/>
                    </svg>
                    </button>
                </div>) : ('')}
            </div>
        </div>
    );
}

export default HomeServices;